% Copyright (C) 2016  Arvid Fahlstr√∂m Myrman
%
% This program is free software; you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation; either version 2 of the License, or
% (at your option) any later version.
%
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
%
% You should have received a copy of the GNU General Public License along
% with this program; if not, write to the Free Software Foundation, Inc.,
% 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

\begin{tikzpicture}
  \begin{groupplot}[group style={group size=2 by 1,horizontal sep=1cm},width=7cm]
   \nextgroupplot[
    xmin=0,xmax=8000,ymin=0,
    xlabel={Frequency (\si{\Hz})},
    ylabel={Mels},
    ytick={0,500,...,3000},
    title={The mel scale}
   ]
   \addplot[blue,domain=0:8000] {1127 * ln(1 + x/700)};
   \nextgroupplot[
    xmin=-500,xmax=8500,ymin=0,
    xlabel={Frequency (\si{\Hz})},
    ytick=\empty,
    title={Mel-scale filter bank}
   ]
   \foreach \i in {1,...,20}{
     \addplot[black] table[x=frequency,y=f\i] {data/filterbanks.txt};
   }
  \end{groupplot}
\end{tikzpicture}
